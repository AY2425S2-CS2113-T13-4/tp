/*
 * This source file was generated by the Gradle 'init' task
 */

import java.util.Scanner;
import Characters.Players.Player;
import Functions.Pair;
import Functions.Storage;
import Game.Events.Battle.NewGame;



public class Rolladie {

    public String getGreeting() {
        return "Hello World!";
    }
    
    public static void main(String[] args) throws InterruptedException {
        mainMenu();
    }

    /**
     * Starts the game menu and shows options for new game or loading from save
     */
    public static void mainMenu() throws InterruptedException {

        Scanner scanner = new Scanner(System.in);
        NewGame game = new NewGame(scanner);
        Player player;
        int wave;

        System.out.println("=== WELCOME TO ROLLaDIE ===");
        System.out.println("1. Start New Game");
        System.out.println("2. Load Game");
        System.out.print("Select an option: ");
        String input = scanner.nextLine();

        if (input.equals("1")) {
            // Uncomment to view new game story!
            // Narrator.newGameSequence();
            player = game.createNewPlayer();
            wave = 1;
        } else if (input.equals("2")) {
            Pair<Player, Integer> loaded = Storage.loadGame(scanner);
            if (loaded != null) {
                player = loaded.first;
                wave = loaded.second;
            } else {
                System.out.println("Starting new game instead.");
                // Narrator.newGameSequence();
                player = game.createNewPlayer();
                wave = 1;
            }
        } else {
            System.out.println("Invalid option, starting new game.");
            // Narrator.newGameSequence();
            player = game.createNewPlayer();
            wave = 1;
        }

        game.startGameLoop(player, wave);
    }

}
